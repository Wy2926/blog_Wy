function html_encode(n){var t="";return n.length==0?"":(t=n.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t.replace(/ /g,"&nbsp;"))}function html_decode(n){var t="";return n.length==0?"":(t=n.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t.replace(/&nbsp;/g," "))}function SiteSearch(n,t){var i=$.trim($(t).val());return i.length>0&&i!="请输入关键字"&&(i=i.replace(/\s+/g,""),i=i.replace(/[\ |\~|\`|\!|\@|\#|\$|\%|\^|\&|\*|\(|\)|\-|\_|\+|\=|\||\\|\[|\]|\{|\}|\;|\:|\"|\'|\,|\<|\.|\>|\/|\?|\，|\。|\：|\；|\·|\~|\！|\、|\《|\》|\‘|\“|\”|\【|\】|\?{|\}|\-|\=|\——|\+|\’|\—|\？]/g,""),i=i.replace(/<[^>]*>|/g,""),window.location.href=n+"?keyword="+encodeURI(i)),!1}function infoalert(n,t,i){sweetAlert({title:n,text:t,type:i})}function getbrowserdata(){var n="";return n=n+browser.versions.mobile+",",browser.versions.trident==!0?n=n+"IE,":browser.versions.presto==!0?n=n+"Opera,":browser.versions.webKit==!0?n=n+"Chrome/Apple,":browser.versions.gecko==!0&&(n=n+"FireFox,"),browser.versions.window==!0?n=n+"Window,":browser.versions.ios==!0?n=n+"IOS,":browser.versions.android==!0?n=n+"Android/Linux,":browser.versions.iPhone==!0?n=n+"iPhone,":browser.versions.iPad==!0?n=n+"iPad,":browser.versions.webApp==!0&&(n=n+"Safari,"),n.substr(0,n.length-1)}function txtturn(){$("#txtsearch").attr("placeholder","搜索内容不能为空，请输入关键字");$("#txtsearch").attr("style","border:1px solid #ED8C24");setTimeout(function(){$("#txtsearch").removeAttr("style");setTimeout(function(){$("#txtsearch").attr("style","border:1px solid #ED8C24");setTimeout(function(){$("#txtsearch").removeAttr("style");setTimeout(function(){$("#txtsearch").attr("style","border:1px solid #ED8C24");setTimeout(function(){$("#txtsearch").removeAttr("style");setTimeout(function(){$("#txtsearch").attr("placeholder","请输入关键字")},5e3)},200)},200)},200)},200)},200)}function txtturnbymobile(){$("#txtsearchbymobile").attr("placeholder","搜索内容不能为空，请输入关键字");$("#txtsearchbymobile").attr("style","border:1px solid #ED8C24");setTimeout(function(){$("#txtsearchbymobile").removeAttr("style");setTimeout(function(){$("#txtsearchbymobile").attr("style","border:1px solid #ED8C24");setTimeout(function(){$("#txtsearchbymobile").removeAttr("style");setTimeout(function(){$("#txtsearchbymobile").attr("style","border:1px solid #ED8C24");setTimeout(function(){$("#txtsearchbymobile").removeAttr("style");setTimeout(function(){$("#txtsearchbymobile").attr("placeholder","请输入关键字")},5e3)},200)},200)},200)},200)},200)}function AddFavorite(n,t){try{window.external.addFavorite(n,t)}catch(i){try{window.sidebar.addPanel(t,n,"")}catch(i){alert("加入收藏失败，请使用Ctrl+D进行添加")}}}function SetHome(n,t){try{n.style.behavior="url(#default#homepage)";n.setHomePage(t)}catch(r){if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(r){alert("此操作被浏览器拒绝！\n请在浏览器地址栏输入“about:config”并回车\n然后将 [signed.applets.codebase_principal_support]的值设置为'true',双击即可。")}var i=Components.classes["@mozilla.org/preferences-service;1"].getService(Components.interfaces.nsIPrefBranch);i.setCharPref("browser.startup.homepage",t)}}}function submiting(n){setTimeout(function(){$("#"+n).val("提交中").attr("disabled","disabled")},10)}function Exit(){window.top.location.href="/YYS_manager/YYS_Login.aspx"}function getCookieVal(n){var t=document.cookie.indexOf(";",n);return t==-1&&(t=document.cookie.length),unescape(document.cookie.substring(n,t))}function GetCookie(n){for(var r=n+"=",u=r.length,f=document.cookie.length,t=0,i;t<f;){if(i=t+u,document.cookie.substring(t,i)==r)return getCookieVal(i);if(t=document.cookie.indexOf(" ",t)+1,t==0)break}return null}function SetCookie(n,t){var i=SetCookie.arguments.length,r=SetCookie.arguments,f=i>3?r[3]:null,e=i>4?r[4]:null,o=i>5?r[5]:!1,u=new Date;u.setTime(u.getTime()+31536e6);document.cookie=n+"="+escape(t)+(f==null?"":"; path="+f)+(e==null?"":"; domain="+e)+(o==!0?"; secure":"")+";expires="+u.toGMTString()}function DelCookie(n){var t=new Date;t.setTime(t.getTime()-2592e5);document.cookie=n+"=;expires="+t.toGMTString()}function setclearCookie(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="expires="+r.toUTCString();document.cookie=n+"="+t+"; "+u}function GetQueryString(n){var i=new RegExp("(^|&)"+n+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(i);return t!=null?unescape(t[2]):null}function ShowImage(n,t){art.dialog({padding:0,title:n,content:t,lock:!0})}function showAlert(n,t,i){var r=this.window;try{r=getRootWindow(window)}catch(u){}r.art.dialog({title:"消息",content:n,icon:t||"warning",ok:function(){i!=null&&i!=undefined?i():this.close()},init:function(){this.content(n)}})}function alerLoading(n){$.dialog({id:"loginload",content:'<div><img style="vertical-align:middle;" src="/images/loading.gif" width="28" height="28" title="正在提交..."/>&nbsp;&nbsp;<span style="vertical-align:middle;font-size:15px;font-weight:600;"> '+n+"<\/span><\/div>",esc:!1,cancel:!1,drag:!1})}function layerOpen(n){n.resize=!1;n.opacity=.5;var t=n.title,i=n.lock||!1,r=n.max||!1,u=n.min||!1,f=n.skin||"",e=n.id||"lhgDiv",o=n.drag||!0,s=n.padding||"0px",h=n.onClose;t||(t="");art.dialog.open(n.url,n)}function layerClose(){art.dialog.close()}function getParentLayer(){return art.dialog.open.origin}function showTips(n,t){art.dialog.tips(n,t||3)}function showConfirm(n,t,i){art.dialog.confirm(n,t,i)}$("body").show();$(".version").text(NProgress.version);NProgress.start();setTimeout(function(){NProgress.done();$(".fade").removeClass("out")},1e3),function(){$("img").attr("draggable","false");$("a").attr("draggable","false")}();$.fn.navSmartFloat=function(){var n=function(n){var t=n.position().top,i=n.css("position");$(window).scroll(function(){var r=$(this).scrollTop();r>t?($(".header-topbar").fadeOut(0),window.XMLHttpRequest?n.css({position:"fixed",top:0}).addClass("shadow"):n.css({top:r})):($(".header-topbar").fadeIn(500),n.css({position:i,top:t}).removeClass("shadow"))})};return $(this).each(function(){n($(this))})};$("#gotop").hide();$(window).scroll(function(){$(window).scrollTop()>100?$("#gotop").fadeIn():$("#gotop").fadeOut()});$("#gotop").click(function(){$("html,body").animate({scrollTop:0},500)});$("img.thumb").lazyload({placeholder:"../images/occupying.png",effect:"fadeIn"});$(".single .content img").lazyload({placeholder:"../images/occupying.png",effect:"fadeIn"});$('[data-toggle="tooltip"]').tooltip();$(window).scroll(function(){var n=$(".sidebar"),t=n.height(),i=$(window).scrollTop();i>t+395&&n.length?$(".fixed").css({position:"fixed",top:"15px",width:"360px",animation:"fadeInDown 1s .2s ease both","-webkit-animation":"fadeInDown 1s .2s ease both","-moz-animation":"fadeInDown 1s .2s ease both"}):$(".fixed").removeAttr("style")});document.onkeydown=function(n){var t=n||window.event||arguments.callee.caller.arguments[0];return t.keyCode===67||t.keyCode===86||t.keyCode===13?!0:t.keyCode===123||t.ctrlKey||t.ctrlKey&&t.keyCode===85?!1:void 0};var browser={versions:function(){var n=navigator.userAgent,t=navigator.appVersion;return{trident:n.indexOf("Trident")>-1,presto:n.indexOf("Presto")>-1,webKit:n.indexOf("AppleWebKit")>-1,gecko:n.indexOf("Gecko")>-1&&n.indexOf("KHTML")==-1,mobile:!!n.match(/AppleWebKit.*Mobile.*/),ios:!!n.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),window:n.indexOf("Windows")>-1,android:n.indexOf("Android")>-1||n.indexOf("Linux")>-1,iPhone:n.indexOf("iPhone")>-1,iPad:n.indexOf("iPad")>-1,webApp:n.indexOf("Safari")==-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};(function(n){"use strict";Date.now=Date.now||function(){return+new Date};n.ias=function(t){function w(){var t,c;s.onChangePage(function(n,t,r){u&&u.setPage(n,r);i.onPageChange.call(this,n,r,t)});return i.triggerPageThreshold>0?f():n(i.next).attr("href")&&(c=o.getCurrentScrollOffset(i.scrollContainer),p(function(){e(c)})),u&&u.havePage()&&(r(),t=u.getPage(),o.forceScrollTop(function(){var i;t>1?(a(t),i=h(!0),n("html, body").scrollTop(i)):f()})),tt}function f(){l();i.scrollContainer.scroll(c)}function c(){var n,t;n=o.getCurrentScrollOffset(i.scrollContainer);t=h();n>=t&&(k()>=i.triggerPageThreshold?(r(),p(function(){e(n)})):e(n))}function r(){i.scrollContainer.unbind("scroll",c)}function l(){n(i.pagination).hide()}function h(t){var r,u;return r=n(i.container).find(i.item).last(),r.size()===0?0:(u=r.offset().top+r.height(),t||(u+=i.thresholdMargin),u)}function e(t,u){var e;if(e=n(i.next).attr("href"),!e)return i.noneleft&&n(i.container).find(i.item).last().after(i.noneleft),r();i.beforePageChange&&n.isFunction(i.beforePageChange)&&i.beforePageChange(t,e)===!1||(s.pushPages(t,e),r(),d(),b(e,function(t,o){var h=i.onLoadItems.call(this,o),s;h!==!1&&(n(o).hide(),s=n(i.container).find(i.item).last(),s.after(o),n(o).fadeIn());e=n(i.next,t).attr("href");n(i.pagination).replaceWith(n(i.pagination,t));g();l();e?f():r();i.onRenderComplete.call(this,o);u&&u.call(this)}))}function b(t,r,u){var e=[],f,h=Date.now(),o,s;u=u||i.loaderDelay;n.get(t,null,function(t){f=n(i.container,t).eq(0);0===f.length&&(f=n(t).filter(i.container).eq(0));f&&f.find(i.item).each(function(){e.push(this)});r&&(s=this,o=Date.now()-h,o<u?setTimeout(function(){r.call(s,t,e)},u-o):r.call(s,t,e))},"html")}function a(t){var i=h(!0);i>0&&e(i,function(){r();s.getCurPageNum(i)+1<t?(a(t),n("html,body").animate({scrollTop:i},400,"swing")):(n("html,body").animate({scrollTop:i},1e3,"swing"),f())})}function k(){var n=o.getCurrentScrollOffset(i.scrollContainer);return s.getCurPageNum(n)}function v(){var t=n(".ias_loader");return t.size()===0&&(t=n('<div class="ias_loader">'+i.loader+"<\/div>"),t.hide()),t}function d(){var t=v(),r;i.customLoaderProc!==!1?i.customLoaderProc(t):(r=n(i.container).find(i.item).last(),r.after(t),t.fadeIn())}function g(){var n=v();n.remove()}function y(t){var r=n(".ias_trigger");return r.size()===0&&(r=n('<div class="ias_trigger"><a href="javascript:;">'+i.trigger+"<\/a><\/div>"),r.hide()),n("a",r).unbind("click").bind("click",function(){return nt(),t.call(),!1}),r}function p(t){var r=y(t),u;i.customTriggerProc!==!1?i.customTriggerProc(r):(u=n(i.container).find(i.item).last(),u.after(r),r.fadeIn())}function nt(){var n=y();n.remove()}var i=n.extend({},n.ias.defaults,t),o=new n.ias.util,s=new n.ias.paging(i.scrollContainer),u=i.history?new n.ias.history:!1,tt=this;w()};n.ias.defaults={container:"#container",scrollContainer:n(window),item:".item",pagination:"#pagination",next:".next",noneleft:!1,loader:'<img src="images/loader.gif"/>',loaderDelay:600,triggerPageThreshold:3,trigger:"Load more items",thresholdMargin:0,history:!0,onPageChange:function(){},beforePageChange:function(){},onLoadItems:function(){},onRenderComplete:function(){},customLoaderProc:!1,customTriggerProc:!1};n.ias.util=function(){function r(){n(window).load(function(){t=!0})}var t=!1,i=!1,u=this;r();this.forceScrollTop=function(r){n("html,body").scrollTop(0);i||(t?(r.call(),i=!0):setTimeout(function(){u.forceScrollTop(r)},1))};this.getCurrentScrollOffset=function(n){var t,i;return t=n.get(0)===window?n.scrollTop():n.offset().top,i=n.height(),t+i}};n.ias.paging=function(){function e(){n(window).scroll(o)}function o(){var e,t,o,h,c;e=f.getCurrentScrollOffset(n(window));t=i(e);o=s(e);u!==t&&(h=o[0],c=o[1],r.call({},t,h,c));u=t}function i(n){for(var i=t.length-1;i>0;i--)if(n>t[i][0])return i+1;return 1}function s(n){for(var i=t.length-1;i>=0;i--)if(n>t[i][0])return t[i];return null}var t=[[0,document.location.toString()]],r=function(){},u=1,f=new n.ias.util;e();this.getCurPageNum=function(t){return t=t||f.getCurrentScrollOffset(n(window)),i(t)};this.onChangePage=function(n){r=n};this.pushPages=function(n,i){t.push([n,i])}};n.ias.history=function(){function i(){n=!!(window.history&&history.pushState&&history.replaceState);n=!1}var t=!1,n=!1;i();this.setPage=function(n,t){this.updateState({page:n},"",t)};this.havePage=function(){return this.getState()!==!1};this.getPage=function(){var n;return this.havePage()?(n=this.getState(),n.page):1};this.getState=function(){var i,t,r;if(n){if(t=history.state,t&&t.ias)return t.ias}else if(i=window.location.hash.substring(0,7)==="#/page/",i)return r=parseInt(window.location.hash.replace("#/page/",""),10),{page:r};return!1};this.updateState=function(n,i,r){t?this.replaceState(n,i,r):this.pushState(n,i,r)};this.pushState=function(i,r,u){var f;n?history.pushState({ias:i},r,u):(f=i.page>0?"#/page/"+i.page:"",window.location.hash=f);t=!0};this.replaceState=function(t,i,r){n?history.replaceState({ias:t},i,r):this.pushState(t,i,r)}}})(jQuery);$(function(){$("#ReturnUrlHash").val(location.hash);var n=$("#LoginForm");n.validate({highlight:function(n){$(n).parents(".form-line").addClass("error")},unhighlight:function(n){$(n).parents(".form-line").removeClass("error")},errorPlacement:function(n,t){$(t).parents(".input-group").append(n)}});n.submit(function(t){(t.preventDefault(),n.valid())&&abp.ui.setBusy($("#LoginArea"),abp.ajax({contentType:"application/x-www-form-urlencoded",url:n.attr("action"),data:n.serialize()}))});$("a.social-login-link").click(function(){var n=$(this),t=n.closest("form");t.find("input[name=provider]").val(n.attr("data-provider"));t.submit()});n.find("input[type=text]:first-child").focus()}),function(){$(function(){var n=$("#linkModel"),t=n.find("form");t.find('button[type="submit"]').click(function(n){n.preventDefault();var i=t.serializeFormToObject();abp.ajax({url:abp.appPath+"api/services/app/Blog/FriendshipLinkApply",type:"POST",data:JSON.stringify(i),contentType:"application/json",success:function(){abp.message.success(abp.utils.formatString(abp.localization.localize("网站：{0} 链接 {1}","Blog"),i.Name,i.Url),"申请成功，等待审核")},error:function(){}})});n.on("shown.bs.modal",function(){n.find("input:not([type=hidden]):first").focus()})})}();!function(){function n(n,t){function rt(){c=new Image;c.onload=function(){ft()};c.src=u.image}function ut(){e.drawImage(c,0,0);nt=e.getImageData(0,0,i,r);k=e.getImageData(0,0,i,r);l=k.data;a=nt.data}function ft(){ut();for(var n=0;n<ht;n++)d[n]=f[n]=0;g();u.auto&&(ot=setInterval(function(){b(Math.random()*i,Math.random()*r)},st),b(Math.random()*i,Math.random()*r))}function g(){requestAnimFrame(g);et()}function et(){var t,h,c,n,b,u,s,p,w;for(t=v,v=y,y=t,t=0,o=v,h=0;h<r;h++)for(c=0;c<i;c++)n=f[o-i]+f[o+i]+f[o-1]+f[o+1]>>1,n-=f[y+t],n-=n>>5,f[y+t]=n,n=1024-n,b=d[t],(d[t]=n,b!=n)&&(u=((c-tt)*n/1024<<0)+tt,s=((h-it)*n/1024<<0)+it,u>=i&&(u=i-1),u<0&&(u=0),s>=r&&(s=r-1),s<0&&(s=0),p=4*(u+s*i),w=4*t,l[w]=a[p],l[w+1]=a[p+1],l[w+2]=a[p+2]),++o,++t;e.putImageData(k,0,0)}function b(n,t){var r,e,u,o;for(n<<=0,t<<=0,r=t-p,e=t+p;r<e;r++)for(u=n-p,o=n+p;u<o;u++)f[v+r*i+u]+=512}var u={image:"",rippleRadius:3,width:480,height:480,delay:1,auto:!0},s,h,e;if(void 0!==t)for(s in t)t.hasOwnProperty(s)&&u.hasOwnProperty(s)&&(u[s]=t[s]);if(!u.image.length)return!1;var c,ot,k,nt,l,a,st=1e3*u.delay,i=u.width,r=u.height,tt=i/2,it=r/2,ht=i*(r+2)*2,v=i,y=i*(r+3),o=0,p=u.rippleRadius,f=[],d=[],w=document.createElement("div");w.style.width=i+"px";w.style.height=r+"px";n.appendChild(w);h=document.createElement("canvas");h.width=i;h.height=r;w.appendChild(h);e=h.getContext("2d");e.fillStyle=u.bgColor;e.fillRect(0,0,i,r);window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)}}();this.disturb=function(n,t){b(n,t)};rt()}window.WaterRippleEffect=n}();"undefined"!=typeof jQuery&&!function(n){n.fn.waterRippleEffect=function(t){var i=arguments;return this.each(function(){if(n.data(this,"plugin_WaterRippleEffect")){var r=n.data(this,"plugin_WaterRippleEffect");r[t]?r[t].apply(this,Array.prototype.slice.call(i,1)):n.error("Method "+t+" does not exist on jQuery.waterRippleEffect")}else n.data(this,"plugin_WaterRippleEffect",new WaterRippleEffect(this,t))})}}(jQuery);